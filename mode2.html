<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drift Detection Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .bg-octave-green {
            background-color: #96FFE6;
        }
        .text-octave-pink {
            color: #F910B2;
        }
        .border-octave-pink {
            border-color: #F910B2;
        }
        .hover\:bg-octave-pink-dark:hover {
            background-color: #d40e9a;
        }
    </style>
</head>
<body class="bg-white min-h-screen flex flex-col">
    <header class="bg-[#96FFE6] py-6 shadow-md">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center">
                <img src="https://www.octave.lk/wp-content/uploads/2023/11/logo.png" alt="OCTAVE Logo" class="h-10 mr-4">
                <h1 class="text-3xl font-bold text-[#F910B2]">
                    Drift Detection Tool
                </h1>
            </div>
            <nav>
                <a href="index.html" class="text-[#F910B2] hover:text-[#d40e9a]">
                    <i class="fas fa-home"></i> Home
                </a>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Header Section -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden p-6 mb-6">
            <h2 class="text-2xl font-semibold text-pink mb-4">OTHER Regression</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-[#96FFE6] p-4 rounded-lg">
                <h3 class="text-lg font-medium text-[#F910B2] mb-2">Business Unit</h3>
                <select class="w-full border-[#F910B2] rounded p-2" id="businessUnitSelect">
                    <option value="">Select Business Unit</option>
                    <option value="CCS">CCS</option>
                    <option value="JMSL">JMSL</option>
                </select>
            </div>
            <div class="bg-[#96FFE6] p-4 rounded-lg">
                <h3 class="text-lg font-medium text-[#F910B2] mb-2">Use Case</h3>
                <select class="w-full border-[#F910B2] rounded p-2" id="useCaseSelect" disabled>
                    <option value="">Select Business Unit first</option>
                </select>
            </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Short Code</h3>
                    <p class="text-xl" id="shortCodeDisplay">-</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Runtime</h3>
                    <p class="text-xl">2h 45m</p>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Current Alert Time</h3>
                    <p class="text-xl">15:42 UTC</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">No. of Runtime</h3>
                    <p class="text-xl">142</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Alert Keeper</h3>
                    <p class="text-xl">Active</p>
                </div>
            </div>
        </div>

        <!-- Visualization Section -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <!-- Drift/Warning Plot -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden p-6 lg:col-span-2">
                <h2 class="text-2xl font-semibold text-pink mb-4">Drift/Warning Plot</h2>
                <div class="h-64 bg-gray-100 rounded flex items-center justify-center">
                    <i class="fas fa-chart-line text-4xl text-pink"></i>
                </div>
            </div>

            <!-- State Colors -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden p-6">
                <h2 class="text-2xl font-semibold text-pink mb-4">Current State</h2>
                <div class="space-y-4">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-red-500 rounded-full mr-3 flex items-center justify-center">
                        <div class="w-6 h-6 bg-red-300 rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg">Critical</span>
                </div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-orange-500 rounded-full mr-3 flex items-center justify-center">
                        <div class="w-6 h-6 bg-orange-300 rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg">Warning</span>
                </div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-yellow-500 rounded-full mr-3 flex items-center justify-center">
                        <div class="w-6 h-6 bg-yellow-300 rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg">Caution</span>
                </div>
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-green-500 rounded-full mr-3 flex items-center justify-center">
                        <div class="w-6 h-6 bg-green-300 rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-lg">Normal</span>
                </div>
                </div>
            </div>
        </div>

        <!-- KPIs Section -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden p-6 mb-6">
            <h2 class="text-2xl font-semibold text-pink mb-4">Key Performance Indicators</h2>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Drift Level</h3>
                    <p class="text-xl">3</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Warning Level</h3>
                    <p class="text-xl">2</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Threshold</h3>
                    <p class="text-xl">5</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Current Value</h3>
                    <p class="text-xl">3.2</p>
                </div>
                <div class="bg-light-green p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-pink mb-2">Status</h3>
                    <p class="text-xl text-orange-500">Warning</p>
                </div>
            </div>
        </div>

        <!-- Tables Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Error Comparison Table -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden p-6">
                <h2 class="text-2xl font-semibold text-pink mb-4">Error Comparison Top(-)</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-[#96FFE6]">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">Time Period</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">Mean Prediction</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">Error</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025-01</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1250</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-red-500">-90</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025-01</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">980</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-orange-500">-65</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2025-02</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1100</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-yellow-500">-42</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- XAI Result -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden p-6">
                <h2 class="text-2xl font-semibold text-pink mb-4">XAI Result</h2>
                <div class="bg-light-green p-4 rounded-lg">
                    <p class="text-gray-700">The current model shows increased drift levels compared to warning thresholds, with a drift level of 3 exceeding the warning level of 2. The current value of 3.2 is approaching the threshold of 5, suggesting potential model degradation that may require investigation.</p>
                </div>
            </div>
        </div>

        <!-- Error Threshold Table -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden p-6">
            <h2 class="text-2xl font-semibold text-pink mb-4">Error Threshold Exceeded</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-[#96FFE6]">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">y_true</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">y_pred</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-[#F910B2] uppercase tracking-wider">percentage_error</th>
                            </tr>
                        </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1250</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1340</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-red-500">7.2%</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">980</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1045</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-orange-500">6.6%</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1100</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1142</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-yellow-500">3.8%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            // Handle business unit selection
            const businessUnitSelect = document.getElementById('businessUnitSelect');
            const useCaseSelect = document.getElementById('useCaseSelect');
            
            businessUnitSelect.addEventListener('change', function() {
                const businessUnit = this.value;
                useCaseSelect.innerHTML = '<option value="">Select Use Case</option>';
                useCaseSelect.disabled = !businessUnit;
                
                if (businessUnit === 'CCS') {
                    useCaseSelect.innerHTML += `
                        <option value="Distribution Efficiency">Distribution Efficiency</option>
                        <option value="MT Promo">MT Promo</option>
                    `;
                } else if (businessUnit === 'JMSL') {
                    useCaseSelect.innerHTML += `
                        <option value="Customer Churn">Customer Churn</option>
                    `;
                }
                
                // Store selection in localStorage
                localStorage.setItem('businessUnit', businessUnit);
            });
            
            useCaseSelect.addEventListener('change', function() {
                // Store selection in localStorage
                localStorage.setItem('useCase', this.value);
                
                // Generate short code
                const businessUnit = businessUnitSelect.value;
                const useCase = this.value;
                const shortCode = `${businessUnit.substring(0,2)}-${useCase.substring(0,2)}`;
                document.getElementById('shortCodeDisplay').textContent = shortCode;
                localStorage.setItem('shortCode', shortCode);
            });
            
            // Initialize from localStorage
            if (localStorage.getItem('businessUnit')) {
                businessUnitSelect.value = localStorage.getItem('businessUnit');
            }
            if (localStorage.getItem('useCase')) {
                useCaseSelect.value = localStorage.getItem('useCase');
                const businessUnit = localStorage.getItem('businessUnit');
                const useCase = localStorage.getItem('useCase');
                const shortCode = `${businessUnit.substring(0,2)}-${useCase.substring(0,2)}`;
                document.getElementById('shortCodeDisplay').textContent = shortCode;
            }
        </script>
    </main>

    <footer class="bg-pink py-4 text-white text-center">
        <div class="container mx-auto px-4">
            <p>&copy; 2023 OCTAVE Drift Detection Tool. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>