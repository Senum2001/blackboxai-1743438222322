(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{760:(e,t,r)=>{Promise.resolve().then(r.bind(r,9751))},8126:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9751:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5155),l=r(2115),d=r(1290),a=r(8126),i=r.n(a);let n={CCS:["Distribution Efficiency","MT Promo"],JMSL:["Dry Sales"]},o={metrics:{mode1:{alertTime:"15:42 UTC",runtimeCount:"142",alertKeeper:"Kalpa (kalpa@keells.com)",kstest:"0.42",wasserstein:"1.85",mseRef:"0.12",mseCurrent:"0.18",status:"Warning",xaiResult:"The current model shows increased error rates...",plotData:[{x:1,y:.12,type:"reference"},{x:2,y:.15,type:"reference"},{x:3,y:.18,type:"reference"},{x:1,y:.18,type:"current"},{x:2,y:.22,type:"current"},{x:3,y:.25,type:"current"}]}},errors:{mode1:[{id:1,timePeriod:"2025-01",meanPrediction:"1250",error:"-90",exceedsThreshold:!0},{id:2,timePeriod:"2025-01",meanPrediction:"980",error:"-65",exceedsThreshold:!0},{id:3,timePeriod:"2025-02",meanPrediction:"1100",error:"-42",exceedsThreshold:!1}]}};async function c(e){let t=o.metrics[e];return t?[{rowKey:"alertTime",value:t.alertTime},{rowKey:"runtimeCount",value:t.runtimeCount},{rowKey:"alertKeeper",value:t.alertKeeper},{rowKey:"kstest",value:t.kstest},{rowKey:"wasserstein",value:t.wasserstein},{rowKey:"mseRef",value:t.mseRef},{rowKey:"mseCurrent",value:t.mseCurrent},{rowKey:"status",value:t.status}]:[]}async function x(e){return o.errors[e]||[]}async function u(e){var t;return(null===(t=o.metrics[e])||void 0===t?void 0:t.xaiResult)||""}function m(){var e,t,r,a,o,m,h,b,p,g;let f=(0,l.useRef)(null),[j,v]=(0,l.useState)("CCS"),[y,N]=(0,l.useState)((n.CCS||[])[0]),[w,C]=(0,l.useState)([]),[S,K]=(0,l.useState)([]),[k,P]=(0,l.useState)(""),[E,M]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("businessUnit"),t=localStorage.getItem("useCase");e&&v(e),t&&N(t);let[r,s,l]=await Promise.all([c("mode1"),x("mode1"),u("mode1")]);C(r),K(s),P(l)}catch(e){console.error("Error loading data:",e)}finally{M(!1)}})()},[]),(0,s.jsxs)("div",{className:"bg-gray-900 min-h-screen flex flex-col",children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Mode 1 | Business Dashboard"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"})]}),(0,s.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"OCTAVE - RG Dashboard"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Business Unit"}),(0,s.jsxs)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:j,onChange:e=>{let t=e.target.value;v(t),N(""),localStorage.setItem("businessUnit",t)},children:[(0,s.jsx)("option",{value:"",children:"Select Business Unit"}),(0,s.jsx)("option",{value:"CCS",children:"CCS"}),(0,s.jsx)("option",{value:"JMSL",children:"JMSL"})]})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Use Case"}),(0,s.jsxs)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:y,onChange:e=>{let t=e.target.value;N(t),localStorage.setItem("useCase",t)},disabled:!j,children:[(0,s.jsx)("option",{value:"",children:j?"Select Use Case":"Select Business Unit first"}),(n[j]||[]).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Short Code"}),(0,s.jsx)("input",{type:"text",value:j&&y?"".concat(j.substring(0,2),"-").concat(y.substring(0,2)):"-",onChange:e=>{},className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Runtime"}),(0,s.jsx)("input",{type:"text",value:"2h 45m",onChange:e=>{},className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Current Alert Time"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(e=w.find(e=>"alertTime"===e.rowKey))||void 0===e?void 0:e.value)||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"No. of Runtime"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(t=w.find(e=>"runtimeCount"===e.rowKey))||void 0===t?void 0:t.value)||"0"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Alert Keeper"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(r=w.find(e=>"alertKeeper"===e.rowKey))||void 0===r?void 0:r.value)||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"MAPE/MSE Plot"}),(0,s.jsx)("div",{className:"h-64 bg-gray-700 rounded p-4",children:E?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-white",children:"Loading plot data..."})}):(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)("canvas",{id:"mapeMseChart",className:"w-full h-full",ref:e=>{if(e&&!E){let t=e.getContext("2d");t&&(f.current&&f.current.destroy(),f.current=new d.t1(t,{type:"line",data:{labels:S.map((e,t)=>"Data Point ".concat(t+1)),datasets:[{label:"Reference MSE",data:w.filter(e=>e.rowKey.includes("mseRef")).map(e=>parseFloat(e.value)),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.1,fill:!0},{label:"Current MSE",data:w.filter(e=>e.rowKey.includes("mseCurrent")).map(e=>parseFloat(e.value)),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.1,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Data Points",color:"#93c5fd",font:{weight:"bold"}},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12}}},y:{title:{display:!0,text:"Error Value",color:"#93c5fd",font:{weight:"bold"}},beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12},callback:e=>"number"==typeof e?e.toFixed(2):e}}},animation:{duration:1e3,easing:"easeInOutQuad"},elements:{point:{radius:4,hoverRadius:6}}}}))}}})})})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Key Performance Indicators"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"KStest"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(a=w.find(e=>"kstest"===e.rowKey))||void 0===a?void 0:a.value)||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Wasserstein Distance"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(o=w.find(e=>"wasserstein"===e.rowKey))||void 0===o?void 0:o.value)||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Mean MSE (Reference)"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(m=w.find(e=>"mseRef"===e.rowKey))||void 0===m?void 0:m.value)||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Mean MSE (Current)"}),(0,s.jsx)("p",{className:"text-xl",children:E?"Loading...":(null===(h=w.find(e=>"mseCurrent"===e.rowKey))||void 0===h?void 0:h.value)||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Status"}),(0,s.jsx)("p",{className:"text-xl ".concat(E?"":(null===(b=w.find(e=>"status"===e.rowKey))||void 0===b?void 0:b.value)==="Warning"?"text-yellow-400":(null===(p=w.find(e=>"status"===e.rowKey))||void 0===p?void 0:p.value)==="Error"?"text-red-400":"text-green-400"),children:E?"Loading...":(null===(g=w.find(e=>"status"===e.rowKey))||void 0===g?void 0:g.value)||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"XAI Result"}),E?(0,s.jsx)("div",{className:"text-white",children:"Loading XAI results..."}):(0,s.jsx)("div",{className:"space-y-3 text-white",dangerouslySetInnerHTML:{__html:k}})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Error Comparison"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Time Period"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Mean Prediction"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Error"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-700",children:E?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-white",children:"Loading error data..."})}):S.length>0?S.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t+1}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.timePeriod}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.meanPrediction}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400",children:e.error})]},t)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-white",children:"No error data available"})})})]})})]}),(0,s.jsxs)("div",{className:"bg-red-900/20 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-red-800/50",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-red-300 mb-4",children:"Error Threshold Exceeded"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-red-800/50",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"y_true"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"y_pred"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"percentage_error"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-red-800/50",children:E?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-white",children:"Loading threshold data..."})}):S.filter(e=>e.exceedsThreshold).length>0?S.filter(e=>e.exceedsThreshold).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t+1}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.yTrue}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.yPred}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-300",children:[e.percentageError,"%"]})]},t)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-white",children:"No threshold exceedances"})})})]})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[857,506,441,684,358],()=>t(760)),_N_E=e.O()}]);